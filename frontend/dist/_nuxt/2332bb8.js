(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{102:function(t,e,r){var content=r(233);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(68).default)("932a8f60",content,!0,{sourceMap:!1})},139:function(t,e,r){"use strict";var n=r(1),o=r(105),c=r.n(o),l=r(196),d=r.n(l);c.a.use(d.a),c.a.container="#__nuxt",n.a.use({install:function(t){t.prototype.$uikit=c.a}})},198:function(t,e,r){"use strict";r(142),r(60),r(122),r(38),r(26),r(77),r(79),r(107),r(27);var n=r(2),o={fetch:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$strapi.find("categories");case 2:t.categories=e.sent;case 3:case"end":return e.stop()}}),e)})))()},data:function(){return{currentIndex:0,categories:[],isLogged:!1,isRegister:!1,email:"",password:"",rePassword:""}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$set(t,"currentIndex",0),e.prev=1,e.next=4,t.$strapi.fetchUser();case 4:if(t.user=e.sent,t.user){e.next=7;break}throw new Error("not user");case 7:t.$set(t,"isLogged",!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))()},methods:{onLogin:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isRegister){e.next=3;break}return t.$set(t,"rePassword",""),e.abrupt("return",t.$set(t,"isRegister",!1));case 3:return e.prev=3,e.next=6,t.$strapi.login({identifier:t.email,password:t.password});case 6:t.setToken(),e.next=14;break;case 9:if(e.prev=9,e.t0=e.catch(3),!e.t0.message.includes("Identifier or password invalid.")){e.next=13;break}return e.abrupt("return",t.$uikit.notification("email or password invalid.","danger"));case 13:console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,9]])})))()},onRegister:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isRegister){e.next=3;break}return t.$set(t,"rePassword",""),e.abrupt("return",t.$set(t,"isRegister",!0));case 3:if(e.prev=3,r=new RegExp("[`~!@#$^&*()=|{}':;',\\[\\].<>/?~！@#￥……&*（）——|{}【】‘；：”“'。，、？]"),n=new RegExp("^([a-zA-Z]|[0-9])(\\w|\\-)+@[a-zA-Z0-9]+\\.([a-zA-Z]{2,4})$"),o=new RegExp("^(?=\\S*[a-z])(?=\\S*\\d)\\S{8,}$"),t.email&&n.test(t.email)){e.next=9;break}return e.abrupt("return",t.$uikit.notification("Email violation","danger"));case 9:if(t.password&&o.test(t.password)){e.next=11;break}return e.abrupt("return",t.$uikit.notification("Password violation","danger"));case 11:if(t.password===t.rePassword){e.next=13;break}return e.abrupt("return",t.$uikit.notification("Two passwords are different","danger"));case 13:return e.next=15,t.$strapi.resgister({email:t.email,username:t.email.split("@")[0].replace(r,""),password:t.password});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[3,17]])})))()},setToken:function(){this.$set(this,"email",""),this.$set(this,"password",""),this.$set(this,"rePassword",""),this.$router.push("/")},onLogout:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$strapi.logout();case 3:t.setToken(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},onNavChanged:function(t){this.$set(this,"currentIndex",t)}}},c=(r(232),r(52)),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("header",{staticClass:"short-header uk-flex"},[r("nav",{staticClass:"uk-navbar-container uk-flex",attrs:{"uk-navbar":""}},[r("div",{staticClass:"uk-navbar-left"},[r("ul",{staticClass:"uk-navbar-nav"},[r("li",{staticClass:"main-title"},[r("nuxt-link",{staticClass:"uk-heading-large",attrs:{to:"/",tag:"a"}},[t._v("Ke zhang's Blog")])],1)])]),t._v(" "),r("div",{staticClass:"uk-navbar-right"},[r("ul",{staticClass:"uk-navbar-nav"},[r("li",{class:[0===t.currentIndex?"uk-active":""],on:{click:function(e){return t.onNavChanged(0)}}},[r("nuxt-link",{attrs:{to:"/",tag:"a"}},[t._v(" Home ")])],1),t._v(" "),r("li",{class:t.categories.map((function(t){return t.id})).includes(t.currentIndex)?"uk-active":""},[r("nuxt-link",{attrs:{to:"/",tag:"a"}},[t._v(" Categories ")]),t._v(" "),r("div",{staticClass:"uk-navbar-dropdown"},[r("ul",{staticClass:"uk-nav uk-navbar-dropdown-nav"},[t._l(t.categories,(function(e){return[r("li",{key:e.id,class:["uk-nav-divider",t.currentIndex===e.id?"uk-active":""],on:{click:function(r){return t.onNavChanged(e.id)}}},[r("nuxt-link",{attrs:{to:{name:"categories-slug",params:{slug:e.slug}},tag:"a"}},[t._v("\n                      "+t._s(e.name)+"\n                    ")])],1)]}))],2)])],1),t._v(" "),r("li",{class:[-2===t.currentIndex?"uk-active":""],on:{click:function(e){return t.onNavChanged(-2)}}},[r("nuxt-link",{attrs:{to:{name:"galleries-slug",params:{slug:"gallery"}},tag:"a"}},[t._v("\n              Gallery\n            ")])],1)]),t._v(" "),t.isLogged?r("div",{staticClass:"uk-navbar-item"},[r("div",{staticClass:"uk-button-group"},[r("button",{staticClass:"uk-button btn-small uk-button-default",on:{click:t.onLogout}},[t._v("\n              Logout\n            ")])])]):r("div",{staticClass:"uk-navbar-item"},[r("form",{attrs:{action:"javascript:void(0)"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"uk-input uk-form-width-small",attrs:{type:"email",placeholder:"Email:"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"uk-input uk-form-width-small",attrs:{type:"password",placeholder:"Password:"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),t.isRegister?r("input",{directives:[{name:"model",rawName:"v-model",value:t.rePassword,expression:"rePassword"}],staticClass:"uk-input uk-form-width-small",attrs:{type:"password",placeholder:"Repeat Password:"},domProps:{value:t.rePassword},on:{input:function(e){e.target.composing||(t.rePassword=e.target.value)}}}):t._e(),t._v(" "),r("div",{staticClass:"uk-button-group"},[r("button",{class:["uk-button btn-small",t.isRegister?"uk-button-default":"uk-button-primary"],on:{click:t.onLogin}},[t._v("\n                Login\n              ")]),t._v(" "),r("button",{class:["uk-button btn-small",t.isRegister?"uk-button-primary":"uk-button-default uk-background-default"],on:{click:t.onRegister}},[t._v("\n                Register\n              ")])])])])])])]),t._v(" "),r("nuxt")],1)}),[],!1,null,null,null);e.a=component.exports},199:function(t,e,r){t.exports=r(200)},230:function(t,e,r){var content=r(231);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(68).default)("f52d43e0",content,!0,{sourceMap:!1})},231:function(t,e,r){(e=r(67)(!1)).push([t.i,"a{text-decoration:none}h1{font-size:120px}#category,h1{font-family:Staatliches}#category{font-weight:500}#title{letter-spacing:.4px;font-size:22px;font-size:1.375rem;line-height:1.13636}#banner{margin:20px;height:800px}#editor{font-size:16px;font-size:1rem;line-height:1.75}.uk-navbar-container{background:#fff!important;font-family:Staatliches}img:hover{opacity:1;transition:opacity .25s cubic-bezier(.39,.575,.565,1)}",""]),t.exports=e},232:function(t,e,r){"use strict";var n=r(102);r.n(n).a},233:function(t,e,r){var n=r(67),o=r(234),c=r(235);e=n(!1);var l=o(c);e.push([t.i,'.row:after,.row:before{content:"";display:table}.main-title{width:190px}.main-title a{font-size:1.2rem!important}.btn-small{width:100px;text-align:center;padding:0;margin-left:-5px}.short-header{line-height:3rem;width:100%;background:#dbdbdb url('+l+") repeat;background-size:46px 29px;height:130px;border-bottom:1px solid #e5e5e5}.uk-navbar-container{background:none!important;height:auto;max-width:1290px;margin:25px;width:100%}",""]),t.exports=e},235:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFwAAAA6BAMAAADPbCMsAAAAD1BMVEXm5ubc3Nzj4+Ph4eHe3t7ih8xTAAABHklEQVRIx63VAQ6DIAxAUeMNegPCFXqF3v9MU5vxhzVKh2YzKI+Elq5bpC7tqiK6ffbR8Vr35w5McBWrfj94tW2l3694GeTspA1UtG3DB3PcxHzgQHwxc+O8RK5oFv886h0vz7wFxEUSZrl1+z3HYcO8XHOvqKD95TQnnSGFw7zccupsobpe4wjWvsZJBnE/8TLOORm/vcuJ0Yh4nusG+sLSvnJEb/ja8/LL/Tz6469S+1LYv/9xE6MBnzg9dVd5foRBScHZSRtZljthrufn6QxfN641/tjg7M8fk/zcVAIPvYTSGOXsJHD2M8P9beQkYIJ/I4qc1sO1ZjhdInJAmsf/6MgxCV7ckKcbTqZznCAe+UGznG7B4cL786mW5B8JkHyrGfvihAAAAABJRU5ErkJggg=="}},[[199,8,2,9]]]);